

## What:

>将一个请求封装为一个对象，使发出请求的责任和执行请求的责任分割开。这样两者之间通过命令对象进行沟通，这样方便将命令对象进行储存、传递、调用、增加与管理。


## Why:
#### 优点：
1.降低了系统耦合度。 
2.新的命令可以很容易添加到系统中去。

#### 缺点：
每个具体操作就需要设计一个具体的命令类，会导致系统有过多的具体命令类，增加系统的复杂性。

## Where:

1.当系统需要将请求调用者与请求接收者解耦时，命令模式使得调用者和接收者不直接交互。
2.当系统需要随机请求命令或经常增加或删除命令时，命令模式比较方便实现这些功能。
3.需要抽象出等待执行的行为。

## How:

示例：模式复仇者联盟中，美国队长通知其他成员集合。

CaptainAmerican（调用者）：
```java
public class CaptainAmerican {

    //保存需要通知的英雄集合
    private List<Hero> list;

    private Command command;

    public CaptainAmerican() {
        this.list = new ArrayList();
    }

    public CaptainAmerican addHero(Hero hero) {
        list.add(hero);
        return this;
    }

    public void notifyAllHero() {
        System.out.println(this.getClass().getSimpleName() + "：Avengers, assemble!");
        for (int i = 0; i < list.size(); i++) {
            Hero hero = list.get(i);
            command = new MessageCommand(hero);
            command.execute();
        }
    }
}
```

Command（）：
```java
public interface Command {
    void execute();
}
```

MessageCommand(
```java
public class MessageCommand implements Command {

    public Hero hero;

    public MessageCommand() {}

    public MessageCommand(Hero hero) {
        this.hero = hero;
    }

    @Override
    public void execute() {
        hero.response();
    }
}
```


Test:测试类
```java
public class Test {
    public static void main(String[] args) {
        CaptainAmerican captainAmerican = new CaptainAmerican();
        Thor thor = new Thor();
        BlackWidow blackWidow = new BlackWidow();
        Hawkeye hawkeye = new Hawkeye();
        Hulk hulk = new Hulk();
        IronMan ironMan = new IronMan();

        captainAmerican.addHero(thor)
                .addHero(blackWidow)
                .addHero(hawkeye)
                .addHero(hulk)
                .addHero(ironMan);

        captainAmerican.notifyAllHero();
    }
}
```
输出结果：
```java
CaptainAmerican：Avengers, assemble!
Thor：Yes,Cap!
BlackWidow：Yes,Cap!
Hawkeye：Yes,Cap!
Hulk：Yes,Cap!
IronMan：Yes,Cap!
```


# 总结
参考资料:
[http://c.biancheng.net/view/1380.html](http://c.biancheng.net/view/1380.html)
